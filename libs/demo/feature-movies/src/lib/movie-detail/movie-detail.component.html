<app-suspense
  [debug]="'detail'"
  [loadingState]="loadingStateMovie$ | async"
  [catchError]="true"
  *ngIf="name$ | async; else pleaseSelect"
>
  <demo-movie-card
    *ngIf="movie$ | async as movie"
    [movie]="movie"
    (selectActor)="onSelectActor($event)"
  >
    <app-suspense
      [debug]="'actor'"
      [loadingState]="loadingStateActor$$ | async"
      [stopPropagation]="false"
    >
      <div>
        {{ (actor$$ | async)?.summary }}
      </div>

      <ng-template appEmpty>
        <div *ngIf="actor$$ | async as actor">Nothing found about {{ actor.firstName }}</div>
      </ng-template>
    </app-suspense>
  </demo-movie-card>
</app-suspense>

<ng-template #pleaseSelect>
  <div>please select a movie</div>
</ng-template>
